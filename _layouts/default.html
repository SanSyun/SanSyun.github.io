<!DOCTYPE html>
<html lang="en-us">

  {% include head.html %}

  <body class="modern-theme">
    <div class="background-layer"></div>
    {% include sidebar.html %}

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead glass-effect">
        <div class="container">
          <h3 class="masthead-title">
            <a href="{{ site.baseurl }}/" title="Home">{{ site.title }}</a>
            <small>{{ site.tagline }}</small>
          </h3>
        </div>
      </div>

      <div class="container">
        <div class="content glass-module">
          {{ content }}
        </div>
      </div>
    </div>

    <footer class="site-footer glass-effect">
      <div class="container">
        <p>&copy; {{ site.time | date: '%Y' }} {{ site.author.name }}. 保留所有权利。</p>
        <p>Powered by <a href="https://jekyllrb.com/">Jekyll</a>.</p>
      </div>
    </footer>

    <style>
    .modern-theme {
      min-height: 100vh;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      position: relative;
    }

    .background-layer {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('{{ site.baseurl }}/images/bg-pattern.png');
      opacity: 0.1;
      z-index: -1;
      pointer-events: none;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }

    .glass-module {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      padding: 2rem;
      margin-bottom: 2rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .glass-module:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
    }

    .masthead {
      padding: 1rem 0;
      margin-bottom: 2rem;
    }

    .masthead-title {
      margin: 0;
      color: #333;
    }

    .masthead-title a {
      color: inherit;
      text-decoration: none;
    }

    .masthead small {
      font-size: 0.75em;
      opacity: 0.7;
    }

    .site-footer {
      padding: 1rem 0;
      text-align: center;
      margin-top: 3rem;
    }

    .content {
      position: relative;
      z-index: 1;
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
      .glass-module {
        padding: 1rem;
        margin: 1rem 0;
      }
      
      .masthead {
        margin-bottom: 1rem;
      }
    }

    /* 文章卡片样式 */
    .post {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      transition: transform 0.3s ease;
    }

    .post:hover {
      transform: translateY(-3px);
    }

    .post-title {
      margin-top: 0;
      color: #2c3e50;
    }

    .post-date {
      color: #666;
      font-size: 0.9em;
    }
    </style>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
